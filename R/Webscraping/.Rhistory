get_cwd()
cwd
cd
getwd()
# load packages ----
library(tidyverse)
library(rvest)
library(polite)
# Check for scrape-ability ----
bow("https://www.scrapingcourse.com")
bow("https://d-saikrishna.github.io/")
# read page ----
url <- "https://www.scrapingcourse.com/ecommerce/"
read_html(url)
page <- read_html(url)
# scrape titles of products ----
page |>
html_elements(css = ".woocommerce-loop-product__title")
# scrape titles of products ----
page |>
html_elements(css = ".woocommerce-loop-product__title") |>
html_text()
# scrape titles of products ----
titles <- page |>
html_elements(css = ".woocommerce-loop-product__title") |>
html_text()
# prices ----
prices <- page |>
html_elements(css = "bdi") |>
html_text()
# URLS ----
urls <- page |>
html_elements(css = ".woocommerce-loop-product__link") |>
html_text()
# URLS ----
page |>
html_elements(css = ".woocommerce-loop-product__link") |>
# URLS ----
page |>
html_elements(css = ".woocommerce-loop-product__link")
# URLS ----
page |>
html_elements(css = ".woocommerce-loop-product__link")
# URLS ----
page |>
html_elements(css = ".woocommerce-loop-product__link") |>
html_attr(name = "href")
# URLS ----
urls <- page |>
html_elements(css = ".woocommerce-loop-product__link") |>
html_attr(name = "href")
# prices ----
prices <- page |>
html_elements(css = "bdi") |>
html_text() |>
str_remove("$")
# prices ----
prices <- page |>
html_elements(css = "bdi") |>
html_text() |>
str_remove("\\$")
# prices ----
prices <- page |>
html_elements(css = "bdi") |>
html_text() |>
str_remove("\\$") |>
as.numeric()
# make tibble ----
tibble(
title = titles ,
price = prices,
url = urls,
)
# make tibble ----
items <- tibble(
title = titles ,
price = prices,
url = urls,
)
# load packages ----
library(tidyverse)
library(rvest)
library(polite)
# Check for scrape-ability ----
bow("https://www.scrapingcourse.com")
# read page ----
url <- "https://www.scrapingcourse.com/ecommerce/"
page <- read_html(url)
# scrape titles of products ----
titles <- page |>
html_elements(css = ".woocommerce-loop-product__title") |>
html_text()
# prices ----
prices <- page |>
html_elements(css = "bdi") |>
html_text() |>
str_remove("\\$") |>
as.numeric()
# URLS ----
urls <- page |>
html_elements(css = ".woocommerce-loop-product__link") |>
html_attr(name = "href")
# make tibble ----
items <- tibble(
title = titles ,
price = prices,
url = urls,
)
View(items)
write_csv(items, file="data/items.csv")
# load packages ----
library(tidyverse)
library(rvest)
library(polite)
# Check for scrape-ability ----
bow("https://www.scrapingcourse.com")
# read page ----
url <- "https://www.scrapingcourse.com/ecommerce/product/abominable-hoodie/"
page <- read_html(url)
# sizes ----
page |>
html_elements(css = "attached enabled")
# sizes ----
page |>
html_elements(css = "attribute_size")
# sizes ----
page |>
html_elements(css = "#size")
"#size"
# sizes ----
page |>
html_elements("#size")
# sizes ----
page |>
html_elements("#size") |>
hteml_text()
# sizes ----
page |>
html_elements("#size") |>
html_text()
# sizes ----
page |>
html_elements("#size") |>
html_attrs("value")
# sizes ----
page |>
html_elements("#size") |>
html_attrs(name = "value")
# sizes ----
page |>
html_elements("#size") |>
html_attr(name = "value")
# sizes ----
page |>
html_elements("#size") |>
html_attrs(name = "value")
# sizes ----
page |>
html_elements("#size") |>
html_attrs()
# sizes ----
page |>
html_elements("#size")
# sizes ----
page |>
html_elements("tr:nth-child(1)")
# sizes ----
page |>
html_elements("tr:nth-child(1)") |>
html_text()
# sizes ----
page |>
html_elements("tr:nth-child(1)") |>
html_text()[2]
url <- glue("https://www.scrapingcourse.com/ecommerce/page/{page_nos}/")
library(glue)
glue("https://www.scrapingcourse.com/ecommerce/page/{page_nos}/")
# read pages ----
page_nos <- 1:5
glue("https://www.scrapingcourse.com/ecommerce/page/{page_nos}/")
urls <- glue("https://www.scrapingcourse.com/ecommerce/page/{page_nos}/")
# Write function to scrape a single page ----
scrape_items <- function(url){
page <- read_html(url)
# scrape titles of products
titles <- page |>
html_elements(css = ".woocommerce-loop-product__title") |>
html_text()
# prices
prices <- page |>
html_elements(css = "bdi") |>
html_text() |>
str_remove("\\$") |>
as.numeric()
# URL
urls <- page |>
html_elements(css = ".woocommerce-loop-product__link") |>
html_attr(name = "href")
# make tibble
tibble(
title = titles ,
price = prices,
url = urls,
)
}
scrape_items("https://www.scrapingcourse.com/ecommerce/page/1/")
scrape_items("https://www.scrapingcourse.com/ecommerce/page/2/")
scrape_items(urls[1])
scrape_items(urls[5])
# map function over all urls
map(urls,scrape_items) |>
list_rbind()
